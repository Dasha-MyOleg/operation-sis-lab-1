#include <stdio.h>
#include "allocator.h"

int main() {
    printf("Testing edge cases...\n");

    // ?????? ????????? 0 ????
    printf("\nAllocating 0 bytes...\n");
    void *ptr1 = mem_alloc(0);
    if (!ptr1) {
        printf("Allocation of 0 bytes returned NULL (expected behavior)\n");
    } else {
        printf("Unexpected allocation result for 0 bytes\n");
    }
    mem_show();

    // ???????? ?????????? ?????? ?????
    printf("\nAllocating 200 bytes...\n");
    void *ptr2 = mem_alloc(200);
    mem_show();

    printf("\nFreeing the same block twice...\n");
    mem_free(ptr2);
    mem_free(ptr2);  // ???????? ??????????
    mem_show();

    // ????????? ???????? ????? ???'???
    printf("\nAllocating a very large block...\n");
    void *ptr3 = mem_alloc(99999999);  // ??????? ??????????? ????????? ???'???
    if (!ptr3) {
        printf("Allocation of large block failed (expected behavior)\n");
    } else {
        printf("Unexpected allocation success for large block\n");
    }
    mem_show();

    printf("\nEdge case testing completed.\n");
    return 0;
}
